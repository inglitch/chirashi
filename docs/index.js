!function(){"use strict";function u(e,n){for(var t=arguments,r=[],a=[],i=arguments.length;2<i--;)r.push(t[i]);for(;r.length;){var u=r.pop();if(u&&u.pop)for(i=u.length;i--;)r.push(u[i]);else null!=u&&!0!==u&&!1!==u&&a.push(u)}return"function"==typeof e?e(n||{},a):{nodeName:e,attributes:n||{},children:a,key:n&&n.key}}function l(c,f){return new Promise(function(n,t){var r,e,a,i,u,l,o;(f=f||{}).load=function(e){n(e)},f.error=function(e){t(e)},r=c,a=(e=(e=f)||{}).callbackName||"_"+Math.random().toString(16).slice(-12),i=e.load,u=e.error,l=document.documentElement,o=document.createElement("script"),"function"==typeof i&&(window[a]=i,o.onerror=o.onload=function(e){l.removeChild(o),delete window[a],"error"===e.type&&"function"==typeof u&&u(r)},o.src=r.replace(/=\?/,"="+a),l.appendChild(o))})}function o(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===n.indexOf(r)&&(t[r]=e[r]);return t}var c=function(e,n){return e.replace(/{[^}]*}/g,function(e){return n[e.slice(1,-1)]||e})},e=function(e){var n=e.api,t=(e.type,e.value);return 0===n?(t||{}).error?u("p",null,(t||{}).error):u("ul",null,[].concat((((t||{}).shop||{}).chirashis||{}).chirashi).map(function(e){var n=e.title,t=e.iconUrl,r=e.pdfUrl,a=e.imgUrl,i=e.flashUrl;return u("li",null,u("a",{href:a||i||r,target:"_blank"},u("img",{src:t}),u("span",null,n)))})):1===n?u("iframe",{src:t}):2===n?u("ul",null,t.map(function(e){return u("li",null,u("a",{href:e,target:"_blank"},e))})):""};(function C(e,n,t,r){var a,i=[].map,u=r&&r.children[0]||null,l=u&&function j(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:j(e)})}}(u),o=[],m=!0,c=d(e),f=function O(r,a,i){for(var e in i)"function"==typeof i[e]?function(e,t){i[e]=function(e){var n=t(e);return"function"==typeof n&&(n=n(h(r,c),i)),n&&n!==(a=h(r,c))&&!n.then&&s(c=y(r,d(a,n),c)),n}}(e,i[e]):O(r.concat(e),a[e]=d(a[e]),i[e]=d(i[e]));return i}([],c,d(n));return s(),f;function g(e){return"function"==typeof e?g(e(c,f)):null!=e?e:""}function p(){a=!a;var e=g(t);for(r&&!a&&(u=function v(e,n,t,r,a){if(r!==t)if(null==t||t.nodeName!==r.nodeName){var i=k(r,a);e.insertBefore(i,n||null),null!=t&&_(e,n,t),n=i}else if(null==t.nodeName)n.nodeValue=r;else{w(n,t.attributes,r.attributes,a=a||"svg"===r.nodeName);for(var u={},l={},o=[],c=t.children,f=r.children,p=0;p<c.length;p++){o[p]=n.childNodes[p];var s=N(c[p]);null!=s&&(u[s]=[o[p],c[p]])}for(var p=0,d=0;d<f.length;){var s=N(c[p]),y=N(f[d]=g(f[d]));if(l[s])p++;else if(null==y||y!==N(c[p+1]))if(null==y||m)null==s&&(v(n,o[p],c[p],f[d],a),d++),p++;else{var h=u[y]||[];s===y?(v(n,h[0],h[1],f[d],a),p++):h[0]?v(n,n.insertBefore(h[0],o[p]||null),h[1],f[d],a):v(n,o[p],null,f[d],a),l[y]=f[d],d++}else null==s&&_(n,o[p],c[p]),p++}for(;p<c.length;)null==N(c[p])&&_(n,o[p],c[p]),p++;for(var p in u)l[p]||_(n,u[p][0],u[p][1])}return n}(r,u,l,l=e)),m=!1;o.length;)o.pop()()}function s(){a||(a=!0,setTimeout(p))}function d(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function y(e,n,t){var r={};return e.length?(r[e[0]]=1<e.length?y(e.slice(1),n,t[e[0]]):n,d(t,r)):n}function h(e,n){for(var t=0;t<e.length;)n=n[e[t++]];return n}function N(e){return e?e.key:null}function v(e){return e.currentTarget.events[e.type](e)}function b(e,n,t,r,a){if("key"!==n)if("style"===n)if("string"==typeof t)e.style.cssText=t;else for(var i in"string"==typeof r&&(r=e.style.cssText=""),d(r,t)){var u=null==t||null==t[i]?"":t[i];"-"===i[0]?e.style.setProperty(i,u):e.style[i]=u}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),e.events?r=r||e.events[n]:e.events={},(e.events[n]=t)?r||e.addEventListener(n,v):e.removeEventListener(n,v)):n in e&&"list"!==n&&"type"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!a?e[n]=null==t?"":t:null!=t&&!1!==t&&e.setAttribute(n,t),null!=t&&!1!==t||e.removeAttribute(n)}function k(e,n){var t="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),r=e.attributes;if(r){r.oncreate&&o.push(function(){r.oncreate(t)});for(var a=0;a<e.children.length;a++)t.appendChild(k(e.children[a]=g(e.children[a]),n));for(var i in r)b(t,i,r[i],null,n)}return t}function w(e,n,t,r){for(var a in d(n,t))t[a]!==("value"===a||"checked"===a?e[a]:n[a])&&b(e,a,t[a],n[a],r);var i=m?t.oncreate:t.onupdate;i&&o.push(function(){i(e,n)})}function _(e,n,t){function r(){e.removeChild(function a(e,n){var t=n.attributes;if(t){for(var r=0;r<n.children.length;r++)a(e.childNodes[r],n.children[r]);t.ondestroy&&t.ondestroy(e)}return e}(n,t))}var a=t.attributes&&t.attributes.onremove;a?a(n,r):r()}})({data:{},data_:{}},{set:function(e){return e},init:function(){return function(e,n){return fetch("data.json").then(function(e){return e.json()}).then(function(e){return n.set({data:e})})}},current:function(e){return{current:e}},area:function(e){return{area:e}},type:function(e){return{type:e}},data_:{set:function(e){return e},get:function(e){e.area,e.type;var t=e.api,r=e.api_,a=(e.name,o(e,["area","type","api","api_","name"]));return function(e,n){n[r.type]&&n[r.type](Object.assign({},a,r,{api:t}))}},iframe:function(e){var n,t=e.api,r=e.i,a=e.type,i=e.url,u=o(e,["api","i","type","url"]);return(n={})[r]={api:t,type:a,value:c(i,u)},n},jsonp:function(e){var r=e.api,a=e.i,i=e.type,n=e.url,u=o(e,["api","i","type","url"]);return function(e,t){l(c(n,u),{callbackName:"JSONCallbackJscript2IdShufoo0"+Date.now()}).then(function(e){var n;return t.set(((n={})[a]={api:r,type:i,value:e},n))})}},urls:function(e){var n,t=e.api,r=e.i,a=e.type,i=e.urls;return(n={})[r]={api:t,type:a,value:[].concat(i)},n}}},function(t,r){var a=[].concat(t.data.shop||[]);return document.title=[t.data.title,(a[t.current]||{}).name||""].filter(function(e){return e}).join(" > "),u("div",{"data-current":t.current},u("nav",null,u("ul",{"class":"area"},u("li",null,u("input",{id:"area",name:"area",type:"radio",onclick:function(){return r.area(void 0)},checked:isNaN(t.area)}),u("label",{"for":"area"},t.data.all||"All")),[].concat(t.data.area||[]).map(function(e,n){return u("li",null,u("input",{id:"area"+n,name:"area",type:"radio",onclick:function(){return r.area(n)},checked:t.area===n}),u("label",{"for":"area"+n},e))})),u("ul",{"class":"type"},u("li",null,u("input",{id:"type",name:"type",type:"radio",onclick:function(){return r.type(void 0)},checked:isNaN(t.type)}),u("label",{"for":"type","data-length":isNaN(t.area)?a.length:a.filter(function(e){return t.area===e.area}).length},t.data.all||"All")),[].concat(t.data.type||[]).map(function(e,n){return u("li",null,u("input",{id:"type"+n,name:"type",type:"radio",onclick:function(){return r.type(n)},checked:t.type===n}),u("label",{"for":"type"+n,"data-length":isNaN(t.area)?a.filter(function(e){return e.type===n}).length:a.filter(function(e){return t.area===e.area&&e.type===n}).length},e))}),u("li",null,u("input",{id:"type-1",name:"type",type:"radio",onclick:function(){return r.type(-1)},checked:-1===t.type}),u("label",{"for":"type-1","data-length":isNaN(t.area)?a.filter(function(e){return-1===e.type}).length:a.filter(function(e){return t.area===e.area&&-1===e.type}).length},t.data.other||"Other"))),u("ul",{"class":"shop"},a.map(function(e,n){return(isNaN(t.area)||t.area===e.area)&&(isNaN(t.type)||t.type===e.type)&&u("li",null,u("button",{type:"button",onclick:function(){return r.current(n),r.data_.get(Object.assign({},e,{i:n,api_:[].concat(t.data.api||[])[e.api]}))},disabled:t.current===n,"data-area":e.area,"data-type":e.type},e.name))}))),u("main",null,u("h1",null,u("button",{onclick:function(){return r.current(void 0)}},"<"),(a[t.current]||{}).name||""),!isNaN(t.current)&&u(e,t.data_[t.current]||{})))},document.body).init()}();
//# sourceMappingURL=index.js.map
